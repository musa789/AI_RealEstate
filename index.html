<!DOCTYPE html>
<html>
  <head>
    <title>Real Estate Friend</title>
    <!-- Load TensorFlow.js and coco-ssd models -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.11.0/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd@3.0.0/dist/coco-ssd.min.js"></script>
  </head>
  <body>
    <h1>Real Estate Friend</h1>
    <p>Upload an image of a house to predict its location:</p>
    <!-- Add an input element to upload image -->
    <input type="file" id="imageUpload" accept=".jpg, .jpeg, .png">
    <br><br>
    <!-- Add a canvas element to display the image and the predicted location -->
    <canvas id="canvas"></canvas>
    <!-- Load the PredictedLocation.py script -->
    <script src="./PredictedLocation.py"></script>
    <script>
      const imageUpload = document.getElementById('imageUpload');
      const canvas = document.getElementById('canvas');
      const ctx = canvas.getContext('2d');
      
      // Listen to image upload event
      imageUpload.addEventListener('change', async () => {
        // Load the image
        const image = await loadImage(imageUpload.files[0]);
        
        // Run the PredictedLocation script on the image
        const location = await predictLocation(image);
        
        // Draw the image and predicted location on the canvas
        canvas.width = image.width;
        canvas.height = image.height;
        ctx.drawImage(image, 0, 0);
        ctx.font = '16px Arial';
        ctx.fillText(`Predicted Location: ${location}`, 10, canvas.height - 10);
      });
    </script>
  </body>
</html>
